{"ast":null,"code":"import * as d3 from \"d3\";\nexport default {\n  name: 'Chart',\n  props: ['axisData', 'companies', 'title'],\n  data() {\n    return {\n      selected: this.companies[0]\n    };\n  },\n  computed: {\n    filteredData() {\n      return this.axisData.filter(el => el.company === this.selected);\n    },\n    maxValue() {\n      return Math.max(...this.filteredData.map(el => el.y));\n    }\n  },\n  methods: {\n    titleCase(title) {\n      return title.charAt(0).toUpperCase() + title.slice(1);\n    },\n    renderChart() {\n      const height = 300;\n      const roundedHeight = Math.ceil((height + 1) / 10) * 10;\n      const width = 800;\n\n      // set the ranges\n      const xScale = d3.scaleBand().domain(this.filteredData.map(dataPoint => dataPoint.x)).range([0, width]).padding(0.2);\n      const yScale = d3.scaleLinear().domain([0, this.maxValue]).range([roundedHeight, 10]);\n      const container = d3.select('svg').classed('chart-container', true).style('height', `${roundedHeight}px`).style('width', `${width}px`);\n\n      // eslint-disable-next-line no-unused-vars\n      const bar = container.selectAll('.bar').data(this.filteredData).enter().append('rect').classed('bar', true).attr('width', xScale.bandwidth()).attr('height', data => roundedHeight - yScale(data.y)).attr('x', data => xScale(data.x)).attr('y', data => yScale(data.y));\n\n      // add the x Axis\n      container.append(\"g\").attr('transform', \"translate(0,\" + roundedHeight + \")\").call(d3.axisBottom(xScale)).selectAll('text').attr('transform', \"translate(-15, 15) rotate(-45)\");\n\n      // add the y Axis\n      container.append(\"g\").call(d3.axisLeft(yScale));\n    }\n  },\n  mounted() {\n    this.renderChart();\n  },\n  updated() {\n    this.renderChart();\n  },\n  beforeUpdate() {\n    var svg = d3.select(\"svg\");\n    svg.selectAll('*').remove();\n  }\n};","map":{"version":3,"names":["d3","name","props","data","selected","companies","computed","filteredData","axisData","filter","el","company","maxValue","Math","max","map","y","methods","titleCase","title","charAt","toUpperCase","slice","renderChart","height","roundedHeight","ceil","width","xScale","scaleBand","domain","dataPoint","x","range","padding","yScale","scaleLinear","container","select","classed","style","bar","selectAll","enter","append","attr","bandwidth","call","axisBottom","axisLeft","mounted","updated","beforeUpdate","svg","remove"],"sources":["/Users/zaheer/Coding/CryptoCanvas/crypto-canvas/src/components/BitcoinHalving.vue"],"sourcesContent":["<template>\n  <div>\n    <h3>{{title}}</h3>\n    <select v-model=\"selected\" >\n      <option v-for=\"company in companies\" :key=\"company\" :value=\"company\">{{titleCase(company)}}</option>\n    </select>\n    <br />\n    <svg></svg>\n  </div>\n</template>\n\n<script>\nimport * as d3 from \"d3\"\n\nexport default {\n  name: 'Chart',\n  props: ['axisData', 'companies', 'title'],\n  data() {\n    return {\n      selected: this.companies[0],\n    }\n  },\n  computed: {\n    filteredData() {\n      return this.axisData.filter(el => el.company === this.selected)\n    },\n    maxValue() {\n      return Math.max(...this.filteredData.map(el => el.y))\n    },\n  },\n  methods: {\n    titleCase(title) {\n      return title.charAt(0).toUpperCase() + title.slice(1)\n    },\n    renderChart() {\n      const height = 300\n      const roundedHeight = Math.ceil((height + 1)/10) * 10\n      const width = 800\n\n      // set the ranges\n      const xScale = d3\n        .scaleBand()\n        .domain(this.filteredData.map(dataPoint => dataPoint.x))\n        .range([0, width])\n        .padding(0.2)\n\n      const yScale = d3\n        .scaleLinear()\n        .domain([0, this.maxValue])\n        .range([roundedHeight, 10])\n\n      const container = d3.select('svg')\n        .classed('chart-container', true)\n        .style('height', `${roundedHeight}px`)\n        .style('width', `${width}px`)\n\n      // eslint-disable-next-line no-unused-vars\n      const bar = container\n        .selectAll('.bar')\n        .data(this.filteredData)\n        .enter()\n        .append('rect')\n        .classed('bar', true)\n        .attr('width', xScale.bandwidth())\n        .attr('height', data => roundedHeight - yScale(data.y))\n        .attr('x', data => (xScale(data.x)))\n        .attr('y', data => yScale(data.y))\n\n      // add the x Axis\n      container.append(\"g\")\n        .attr('transform', \"translate(0,\" + roundedHeight + \")\")\n        .call(d3.axisBottom(xScale))\n        .selectAll('text')\n        .attr('transform', \"translate(-15, 15) rotate(-45)\");\n\n      // add the y Axis\n      container.append(\"g\")\n        .call(d3.axisLeft(yScale));\n    }\n  },\n  mounted() {\n    this.renderChart()\n  },\n  updated() {\n    this.renderChart()\n  },\n  beforeUpdate() {\n    var svg = d3.select(\"svg\")\n    svg\n      .selectAll('*')\n      .remove()\n  },\n}\n</script>\n\n<style>\n  .chart-container {\n    border: 1px solid navy;\n    margin-left: auto;\n    margin-right: auto;\n    overflow: visible;\n  }\n\n  .bar { \n    fill: rgb(255, 0, 212);\n  }\n\n  text {\n    fill: navy;\n    font-size: smaller;\n  }\n\n  path.domain {\n    stroke: transparent;\n  }\n\n  select {\n    margin-bottom: 20px;\n  }\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}