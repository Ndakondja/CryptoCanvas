{"ast":null,"code":"import * as d3 from 'd3';\nimport axios from 'axios';\nimport config from './config';\nexport default {\n  name: 'PriceChart',\n  data() {\n    return {\n      coins: ['Bitcoin', 'Ethereum', 'Ripple', 'Litecoin', 'Cardano'],\n      pricesData: {}\n    };\n  },\n  mounted() {\n    this.fetchPriceData();\n  },\n  methods: {\n    async fetchPriceData() {\n      for (const coin of this.coins) {\n        const response = await axios.get(`${config.backendApiUrl}/getCoinData/${coin}`);\n        this.pricesData[coin] = response.data.data.map(d => ({\n          date: new Date(d.Date),\n          price: +d.Close\n        }));\n      }\n      this.drawPriceChart();\n    },\n    drawPriceChart() {\n      const margin = {\n        top: 10,\n        right: 30,\n        bottom: 30,\n        left: 60\n      };\n      const width = 460 - margin.left - margin.right;\n      const height = 400 - margin.top - margin.bottom;\n      d3.select('#price-chart').select('svg').remove();\n      const svg = d3.select('#price-chart').append('svg').attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom).append('g').attr('transform', `translate(${margin.left},${margin.top})`);\n      const x = d3.scaleTime().domain(d3.extent(this.pricesData[this.coins[0]], d => d.date)).range([0, width]);\n      svg.append('g').attr('transform', `translate(0,${height})`).call(d3.axisBottom(x));\n      const y = d3.scaleLinear().domain([0, d3.max(this.coins.flatMap(coin => this.pricesData[coin].map(d => d.price)))]).range([height, 0]);\n      svg.append('g').call(d3.axisLeft(y));\n      const color = d3.scaleOrdinal().domain(this.coins).range(d3.schemeSet2);\n      for (const coin of this.coins) {\n        svg.append('path').datum(this.pricesData[coin]).attr('fill', 'none').attr('stroke', color(coin)).attr('stroke-width', 1.5).attr('d', d3.line().x(d => x(d.date)).y(d => y(d.price)));\n      }\n    }\n  }\n};","map":{"version":3,"names":["d3","axios","config","name","data","coins","pricesData","mounted","fetchPriceData","methods","coin","response","get","backendApiUrl","map","d","date","Date","price","Close","drawPriceChart","margin","top","right","bottom","left","width","height","select","remove","svg","append","attr","x","scaleTime","domain","extent","range","call","axisBottom","y","scaleLinear","max","flatMap","axisLeft","color","scaleOrdinal","schemeSet2","datum","line"],"sources":["/Users/stefanstapelberg/Desktop/FSD_PROJECT/CryptoCanvas/crypto-canvas/src/components/PriceOverTime.vue"],"sourcesContent":["<template>\n    <div>\n      <div id=\"price-chart\"></div> <!-- Container for the D3.js chart -->\n    </div>\n</template>\n<script>\nimport * as d3 from 'd3'\nimport axios from 'axios'\nimport config from './config'\n\nexport default {\n  name: 'PriceChart',\n  data () {\n    return {\n      coins: ['Bitcoin', 'Ethereum', 'Ripple', 'Litecoin', 'Cardano'],\n      pricesData: {}\n    }\n  },\n  mounted () {\n    this.fetchPriceData()\n  },\n  methods: {\n    async fetchPriceData () {\n      for (const coin of this.coins) {\n        const response = await axios.get(`${config.backendApiUrl}/getCoinData/${coin}`)\n        this.pricesData[coin] = response.data.data.map(d => ({\n          date: new Date(d.Date),\n          price: +d.Close\n        }))\n      }\n      this.drawPriceChart()\n    },\n    drawPriceChart () {\n      const margin = { top: 10, right: 30, bottom: 30, left: 60 }\n      const width = 460 - margin.left - margin.right\n      const height = 400 - margin.top - margin.bottom\n      d3.select('#price-chart').select('svg').remove()\n      const svg = d3.select('#price-chart')\n        .append('svg')\n        .attr('width', width + margin.left + margin.right)\n        .attr('height', height + margin.top + margin.bottom)\n        .append('g')\n        .attr('transform', `translate(${margin.left},${margin.top})`)\n      const x = d3.scaleTime()\n        .domain(d3.extent(this.pricesData[this.coins[0]], d => d.date))\n        .range([0, width])\n      svg.append('g')\n        .attr('transform', `translate(0,${height})`)\n        .call(d3.axisBottom(x))\n      const y = d3.scaleLinear()\n        .domain([0, d3.max(this.coins.flatMap(coin => this.pricesData[coin].map(d => d.price)))])\n        .range([height, 0])\n      svg.append('g')\n        .call(d3.axisLeft(y))\n      const color = d3.scaleOrdinal()\n        .domain(this.coins)\n        .range(d3.schemeSet2)\n      for (const coin of this.coins) {\n        svg.append('path')\n          .datum(this.pricesData[coin])\n          .attr('fill', 'none')\n          .attr('stroke', color(coin))\n          .attr('stroke-width', 1.5)\n          .attr('d', d3.line()\n            .x(d => x(d.date))\n            .y(d => y(d.price))\n          )\n      }\n    }\n  }\n}\n</script>\n<style>\n.tooltip {\n    position: absolute;\n    text-align: center;\n    transition: opacity 0.3s;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}